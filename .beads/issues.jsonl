{"id":"ga-00a","title":"Implement gt sling --start recommendations from code review","description":"Implement the recommendations from the rule of five review of gt sling --start feature (commit 3b9c6a3).\n\nRecommendations to implement:\n1. Add --start-polecat=\u003cname\u003e for explicit polecat selection\n2. Add --start-preference flag (newest|oldest|cleanest|any)\n3. Document --start --naked interaction (error or precedence)\n4. Fix dry-run output to indicate idle polecat behavior\n5. Add metrics to track idle polecat reuse rate\n\nSee review document: claudedocs/pr-sling-start-flag.md in gastown/polecats/toast/gastown/","notes":"Implemented all 5 recommendations from --start flag review:\n\n1. Added --start-polecat=\u003cname\u003e for explicit polecat selection\n2. Added --start-preference flag (newest|oldest|cleanest|any)\n3. Documented --start --naked interaction (--start takes precedence with warning)\n4. Fixed dry-run output to indicate idle polecat behavior\n5. Added metrics to track idle polecat reuse rate (reuse=true in event payload)\n\nSee claudedocs/ga-00a-recommendations-implementation.md for full details.\n\nChanges made to internal/cmd/polecat_spawn.go:\n- Added StartPreference type with any/newest/oldest/cleanest options\n- Added FindIdlePolecatOptions struct with SpecificName and Preference fields\n- Enhanced FindIdlePolecat function with preference-based selection\n- Added CreatedAt and Clean fields to IdlePolecatInfo\n- Added metrics tracking with payload[\"reuse\"] = \"true\" in StartPolecatSession\n\nRemaining sling.go changes documented in implementation doc.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T19:47:30.389758+01:00","created_by":"mayor","updated_at":"2026-01-09T18:51:45Z","closed_at":"2026-01-09T18:56:06Z"}
{"id":"ga-0pl","title":"Session ended: gt-gastown-slit","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-08T18:45:19.880339+01:00","created_by":"gastown/polecats/slit","updated_at":"2026-01-08T18:45:19.880339+01:00"}
{"id":"ga-0qy","title":"Fix town beads repo exceeding GitHub 2GB limit","description":"**Problem:**\nPush to gt/.beads repo failing with: remote: fatal: pack exceeds maximum allowed size (2.00 GiB)\n\n**Investigation needed:**\n1. Identify what's causing the bloat (git history, large files, accumulated syncs)\n2. Evaluate options:\n   - bd admin compact (semantic compression of old issues)\n   - git gc --aggressive\n   - git filter-repo to remove large blobs\n   - Migrate large files to LFS\n   - Fresh repo with squashed history\n3. Implement fix\n4. Verify push succeeds\n\n**References:**\n- Original escalation: hq-o4f5\n- bd compact docs: bd admin compact --help","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-07T14:44:35.185329+01:00","created_by":"mayor","updated_at":"2026-01-07T14:44:35.185329+01:00"}
{"id":"ga-112","title":"Session ended: gt-gastown-refinery","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-09T18:41:50.966559+01:00","created_by":"gastown/refinery","updated_at":"2026-01-09T18:41:50.966559+01:00"}
{"id":"ga-17u","title":"Session ended: gt-gastown-rictus","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-09T18:42:03.676695+01:00","created_by":"gastown/polecats/rictus","updated_at":"2026-01-09T18:42:03.676695+01:00"}
{"id":"ga-1hs","title":"Session ended: gt-gastown-furiosa","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-05T20:18:54.06524+01:00","created_by":"gastown/polecats/furiosa","updated_at":"2026-01-05T20:18:54.06524+01:00"}
{"id":"ga-1vi","title":"Merge: pr-302","description":"branch: pr-302\ntarget: main\nsource_issue: pr-302\nrig: gastown\nagent_bead: ga-gastown-polecat-morsov\nretry_count: 0\nlast_conflict_sha: null\nconflict_task_id: null","status":"open","priority":2,"issue_type":"merge-request","created_at":"2026-01-10T10:35:47.284598+01:00","created_by":"gastown/polecats/morsov","updated_at":"2026-01-10T10:35:47.284598+01:00"}
{"id":"ga-3aj","title":"Session ended: gt-gastown-nux","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-09T11:02:31.413226+01:00","created_by":"gastown/polecats/nux","updated_at":"2026-01-09T11:02:31.413226+01:00"}
{"id":"ga-3sm","title":"Deacon Patrol","description":"Mayor's daemon patrol loop for handling callbacks, health checks, and cleanup.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-05T20:12:14.784858+01:00","created_by":"mayor","updated_at":"2026-01-05T20:12:14.784858+01:00"}
{"id":"ga-488","title":"Session ended: gt-gastown-slit","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-09T11:01:55.622968+01:00","created_by":"gastown/polecats/slit","updated_at":"2026-01-09T11:01:55.622968+01:00"}
{"id":"ga-5ao","title":"Session ended: gt-gastown-dementus","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-09T18:43:06.506152+01:00","created_by":"gastown/polecats/dementus","updated_at":"2026-01-09T18:43:06.506152+01:00"}
{"id":"ga-5bl","title":"Fix PR #302 CI failures and refine to master","description":"PR #302 (steveyegie/gastown --start feature) fails CI.\n\nTasks:\n1. Check CI failures on PR #302\n2. Identify and fix the issues\n3. Compile and test locally\n4. Refine (merge) to master/main branch\n\nPR: https://github.com/steveyeggie/gastown/pull/302","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-10T10:24:21.5638+01:00","created_by":"mayor","updated_at":"2026-01-10T10:24:21.5638+01:00"}
{"id":"ga-5jj","title":"Session ended: gt-gastown-nux","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-07T14:47:27.339098+01:00","created_by":"gastown/polecats/nux","updated_at":"2026-01-07T14:47:27.339098+01:00"}
{"id":"ga-6d5","title":"Session ended: gt-gastown-nux","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-07T17:22:01.423545+01:00","created_by":"gastown/polecats/nux","updated_at":"2026-01-07T17:22:01.423545+01:00"}
{"id":"ga-6pr3c","title":"gt sling --start: auto-start polecat sessions","description":"Add --start flag to gt sling that auto-starts polecat sessions when idle. Idempotent, non-interactive, with clear warning when omitted.\n\nDesign:\n- gt sling \u003cissue\u003e \u003crig\u003e --start\n- Queues work and starts session if polecat idle\n- Idempotent (no-op if session already active)\n- Warning if --start omitted and polecat idle\n- No interactive prompts (always scriptable)","acceptance_criteria":"1. gt sling accepts --start flag\n2. --start starts session if polecat idle\n3. --start is idempotent (ignored if session active)\n4. Warning shown when --start omitted and polecat idle\n5. No interactive prompts (always scriptable)","status":"closed","priority":2,"issue_type":"feature","assignee":"gastown/polecats/dag","created_at":"2026-01-09T18:44:03.949113+01:00","created_by":"mayor","updated_at":"2026-01-09T19:40:40.204702+01:00","closed_at":"2026-01-09T19:40:40.204702+01:00","close_reason":"Feature already implemented. --start flag exists in sling.go:143,161 with full FindIdlePolecat and StartPolecatSession support in polecat_spawn.go. All acceptance criteria verified."}
{"id":"ga-80n","title":"Session ended: gt-gastown-nux","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-07T15:04:50.635434+01:00","created_by":"gastown/polecats/nux","updated_at":"2026-01-07T15:04:50.635434+01:00"}
{"id":"ga-9x1","title":"Session ended: gt-gastown-refinery","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-08T18:43:07.174131+01:00","created_by":"gastown/refinery","updated_at":"2026-01-08T18:43:07.174131+01:00"}
{"id":"ga-asm","title":"Refinery template hardcodes 'main' branch instead of using rig's default_branch","description":"## Bug\nThe refinery.md.tmpl template hardcodes 'main' branch instead of using the rig's configured default_branch from config.json.\n\n## Impact\nWork merged to wrong branch (master/main instead of develop/develop-cstar) in previeew rigs.\n\n## Root Cause\n1. `RoleData` struct in templates.go missing `DefaultBranch` field\n2. refinery.md.tmpl hardcodes 'main' at lines 112, 229, 254, 256, 343-344\n\n## Fix Required\n1. Add `DefaultBranch string` to `RoleData` struct (internal/templates/templates.go:26)\n2. Update refinery.md.tmpl to use `{{ .DefaultBranch }}` instead of hardcoded 'main'\n3. Populate DefaultBranch when rendering template from rig config\n4. Write test to verify DefaultBranch is correctly substituted\n\n## Files to Modify\n- internal/templates/templates.go - Add DefaultBranch to RoleData\n- internal/templates/roles/refinery.md.tmpl - Use {{ .DefaultBranch }}\n- internal/templates/templates_test.go - Add test for DefaultBranch rendering\n\n## Acceptance Criteria\n- [ ] RoleData includes DefaultBranch field\n- [ ] refinery.md.tmpl uses {{ .DefaultBranch }} for all branch references\n- [ ] Test verifies custom DefaultBranch renders correctly\n- [ ] Test verifies fallback to 'main' when DefaultBranch empty","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-05T20:17:53.038791+01:00","created_by":"mayor","updated_at":"2026-01-05T20:17:53.038791+01:00"}
{"id":"ga-cmg","title":"Witness Patrol","description":"Per-rig worker monitor patrol loop with progressive nudging.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-05T20:12:14.847891+01:00","created_by":"mayor","updated_at":"2026-01-05T20:12:14.847891+01:00"}
{"id":"ga-f72","title":"Session ended: gt-gastown-furiosa","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-07T17:05:48.799619+01:00","created_by":"gastown/polecats/furiosa","updated_at":"2026-01-07T17:05:48.799619+01:00"}
{"id":"ga-fqm","title":"Session ended: gt-gastown-refinery","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-09T19:05:22.278953+01:00","created_by":"gastown/refinery","updated_at":"2026-01-09T19:05:22.278953+01:00"}
{"id":"ga-gastown-polecat-capable","title":"ga-gastown-polecat-capable","description":"ga-gastown-polecat-capable\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: gt-gj2rx\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-09T19:28:08.558151+01:00","created_by":"mayor","updated_at":"2026-01-10T22:54:41.492297+01:00","deleted_at":"2026-01-10T22:54:41.492297+01:00","deleted_by":"gastown/witness","delete_reason":"delete","original_type":"agent"}
{"id":"ga-gastown-polecat-cheedo","title":"ga-gastown-polecat-cheedo","description":"ga-gastown-polecat-cheedo\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: ga-00a\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-09T19:47:39.345782+01:00","created_by":"mayor","updated_at":"2026-01-10T22:55:13.794872+01:00","deleted_at":"2026-01-10T22:55:13.794872+01:00","deleted_by":"gastown/witness","delete_reason":"delete","original_type":"agent"}
{"id":"ga-gastown-polecat-dag","title":"ga-gastown-polecat-dag","description":"ga-gastown-polecat-dag\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: ga-6pr3c\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-09T19:34:25.512383+01:00","created_by":"gastown/witness","updated_at":"2026-01-10T22:55:13.968807+01:00","deleted_at":"2026-01-10T22:55:13.968807+01:00","deleted_by":"gastown/witness","delete_reason":"delete","original_type":"agent"}
{"id":"ga-gastown-polecat-keeper","title":"ga-gastown-polecat-keeper","description":"ga-gastown-polecat-keeper\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: gt-iagsf\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-09T22:35:40.182192+01:00","created_by":"mayor","updated_at":"2026-01-10T22:54:44.034561+01:00","deleted_at":"2026-01-10T22:54:44.034561+01:00","deleted_by":"gastown/witness","delete_reason":"delete","original_type":"agent"}
{"id":"ga-gastown-polecat-morsov","title":"ga-gastown-polecat-morsov","description":"ga-gastown-polecat-morsov\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: ga-5bl\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-10T10:24:44.205286+01:00","created_by":"mayor","updated_at":"2026-01-10T22:54:44.446669+01:00","deleted_at":"2026-01-10T22:54:44.446669+01:00","deleted_by":"gastown/witness","delete_reason":"delete","original_type":"agent"}
{"id":"ga-gastown-polecat-toast","title":"ga-gastown-polecat-toast","description":"ga-gastown-polecat-toast\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: gt-gj2rx\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-09T19:29:06.248035+01:00","created_by":"mayor","updated_at":"2026-01-10T22:54:45.232823+01:00","deleted_at":"2026-01-10T22:54:45.232823+01:00","deleted_by":"gastown/witness","delete_reason":"delete","original_type":"agent"}
{"id":"ga-gastown-polecat-valkyrie","title":"ga-gastown-polecat-valkyrie","description":"ga-gastown-polecat-valkyrie\n\nrole_type: polecat\nrig: gastown\nagent_state: spawning\nhook_bead: gt-vm1oc\nrole_bead: hq-polecat-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"tombstone","priority":2,"issue_type":"agent","created_at":"2026-01-09T20:43:09.054934+01:00","created_by":"mayor","updated_at":"2026-01-10T22:54:45.628986+01:00","deleted_at":"2026-01-10T22:54:45.628986+01:00","deleted_by":"gastown/witness","delete_reason":"delete","original_type":"agent"}
{"id":"ga-gastown-witness","title":"ga-gastown-witness","description":"ga-gastown-witness\n\nrole_type: witness\nrig: gastown\nagent_state: running\nhook_bead: null\nrole_bead: hq-witness-role\ncleanup_status: null\nactive_mr: null\nnotification_level: null","status":"open","priority":2,"issue_type":"agent","created_at":"2026-01-08T21:43:11.491026+01:00","created_by":"gastown/witness","updated_at":"2026-01-08T21:43:11.491026+01:00"}
{"id":"ga-hno","title":"Refinery Patrol","description":"Merge queue processor patrol loop with verification gates.","status":"open","priority":2,"issue_type":"molecule","created_at":"2026-01-05T20:12:14.912745+01:00","created_by":"mayor","updated_at":"2026-01-05T20:12:14.912745+01:00"}
{"id":"ga-i5f","title":"Session ended: gt-gastown-refinery","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-07T17:04:56.464227+01:00","created_by":"gastown/refinery","updated_at":"2026-01-07T17:04:56.464227+01:00"}
{"id":"ga-i5s","title":"Session ended: gt-gastown-furiosa","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-09T18:39:14.735424+01:00","created_by":"gastown/polecats/furiosa","updated_at":"2026-01-09T18:39:14.735424+01:00"}
{"id":"ga-mjq","title":"Merge: runtime-overlay","description":"branch: feat/runtime-overlay\ntarget: main\nsource_issue: runtime-overlay\nrig: gastown","status":"open","priority":2,"issue_type":"merge-request","created_at":"2026-01-08T18:42:42.067016+01:00","created_by":"gastown/refinery","updated_at":"2026-01-08T18:42:42.067016+01:00"}
{"id":"ga-omr","title":"Evaluate and implement fix strategy","description":"Based on analysis, implement the appropriate fix:\n- If history bloat: git filter-repo or fresh clone with squashed history\n- If large files: migrate to LFS or remove\n- If JSONL growth: bd admin compact on old issues\n- Test push succeeds after fix","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T14:44:51.297257+01:00","created_by":"mayor","updated_at":"2026-01-07T17:21:50.817256+01:00","closed_at":"2026-01-07T17:21:47.977714+01:00","dependencies":[{"issue_id":"ga-omr","depends_on_id":"ga-0qy","type":"blocks","created_at":"2026-01-07T14:44:51.297994+01:00","created_by":"mayor"},{"issue_id":"ga-omr","depends_on_id":"ga-y88","type":"blocks","created_at":"2026-01-07T14:45:02.405686+01:00","created_by":"mayor"}],"comments":[{"id":2,"issue_id":"ga-omr","author":"gastown/polecats/nux","text":"## Fixes Implemented\n\n1. **Town beads nested .beads/.beads/** - Removed and prevented via .gitignore\n2. **asrall .gitignore** - Added ML model patterns (*.ckpt, *.bin, *.pt, *.pth, *.safetensors)\n3. **asrall beads-sync** - Reset from 1328 → 3 files (orphan branch fix)\n\n## LFS Cleanup Deferred\nThe 3.2GB LFS objects (banafo servers, Final/swb.tgz) are still tracked in HEAD.\nFull cleanup requires:\n- Removing files from HEAD (may break deployments)\n- History rewrite with BFG/git-filter-repo\n- Team coordination for force push\n\nRecommend scheduling this as separate task with team coordination.","created_at":"2026-01-07T14:04:36Z"},{"id":3,"issue_id":"ga-omr","author":"gastown/polecats/nux","text":"## Fixes Completed 2026-01-07 17:21\n\n1. **asrall beads-sync branch**: Fixed from 1328 files → 7 files\n   - Created proper orphan branch tracking only .beads/\n   - Force pushed to origin/beads-sync\n   \n2. **asrall .gitignore**: Added ML model patterns\n   - *.ckpt, *.bin, *.pt, *.pth, *.safetensors, *.pkl, *.h5\n   - Committed to crew/cleanup branch\n   \n3. **town beads nested directory**: Removed .beads/.beads/\n   - Prevented by existing .gitignore rule\n   \n4. **LFS cleanup**: Not required for 2GB fix\n   - asrall pack: 369 MB (well under limit)\n   - town beads pack: 61 KB (was \u003e2GB, now fixed)\n   - git push works successfully\n\nThe 2GB push error is resolved.","created_at":"2026-01-07T16:21:42Z"}]}
{"id":"ga-pe0","title":"Session ended: gt-gastown-slit","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-07T17:17:47.30491+01:00","created_by":"gastown/polecats/slit","updated_at":"2026-01-07T17:17:47.30491+01:00"}
{"id":"ga-po4","title":"Session ended: gt-gastown-nux","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-07T14:55:34.26732+01:00","created_by":"gastown/polecats/nux","updated_at":"2026-01-07T14:55:34.26732+01:00"}
{"id":"ga-y88","title":"Analyze git repo bloat sources","description":"Investigate what's causing the 2GB+ pack size:\n- Check git count-objects across all rig .beads directories\n- Identify largest blobs in history\n- Check if JSONL files are being duplicated across syncs\n- Examine commit frequency and file churn patterns","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-07T14:44:47.781503+01:00","created_by":"mayor","updated_at":"2026-01-07T17:21:37.54647+01:00","closed_at":"2026-01-07T17:21:33.553485+01:00","dependencies":[{"issue_id":"ga-y88","depends_on_id":"ga-0qy","type":"blocks","created_at":"2026-01-07T14:44:47.7835+01:00","created_by":"mayor"}],"comments":[{"id":1,"issue_id":"ga-y88","author":"gastown/polecats/nux","text":"## Analysis Complete\n\n### Primary Bloat Source: asrall rig (3.5GB)\n\n**1. Git LFS Objects (3.2GB)**\n- ~20 files between 157-495MB (likely ML models)\n\n**2. Large Blobs in History**\n- embedding_model.ckpt (83MB)\n- pytorch_model.bin (17MB)\n- Rust target/debug/deps/*.rlib files (10-20MB each)\n\n**3. Misconfigured beads-sync Branch**\n- Contains 1328 files (full codebase copy!)\n- Should only contain .beads/ directory\n- 351 commits mixing code and beads\n\n### Secondary Issue: Town Beads\n- Nested .beads/.beads/ directory (duplicating issues.jsonl)\n- Minor (14MB total)\n\n### Other Rigs: Normal\n- proxyninja: 41MB\n- previeew_back: 19MB\n- gastown: 18MB\n\n### Recommendations\n1. Clean asrall Git LFS objects\n2. Fix beads-sync to only track .beads/\n3. Add .gitignore for target/, *.ckpt, *.bin\n4. Remove nested .beads/.beads/ from town beads","created_at":"2026-01-07T13:53:51Z"}]}
{"id":"ga-yis","title":"Session ended: gt-gastown-slit","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-08T18:49:05.534825+01:00","created_by":"gastown/polecats/slit","updated_at":"2026-01-08T18:49:05.534825+01:00"}
{"id":"ga-yrq","title":"Session ended: gt-gastown-refinery","status":"open","priority":2,"issue_type":"event","created_at":"2026-01-09T18:58:11.430393+01:00","created_by":"gastown/refinery","updated_at":"2026-01-09T18:58:11.430393+01:00"}
{"id":"ga-z0j","title":"Implement preventive measures","description":"Prevent future bloat:\n- Set up periodic bd compact cron job\n- Add pre-push hook to warn on large packs\n- Document beads maintenance procedures\n- Consider splitting rig beads to separate repos if needed","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-07T14:44:53.037496+01:00","created_by":"mayor","updated_at":"2026-01-07T14:44:53.037496+01:00","dependencies":[{"issue_id":"ga-z0j","depends_on_id":"ga-0qy","type":"blocks","created_at":"2026-01-07T14:44:53.040388+01:00","created_by":"mayor"},{"issue_id":"ga-z0j","depends_on_id":"ga-omr","type":"blocks","created_at":"2026-01-07T14:45:05.25327+01:00","created_by":"mayor"}]}
